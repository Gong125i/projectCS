📊 แผนภาพ Class Diagram ระบบนัดหมาย - แบบครบถ้วน 100% (ส่วนที่ 2)
================================================================

🔌 บริการ API (API Services)
============================

### 17. ApiService (บริการฐาน)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ApiService (Base)                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + baseURL: string                                                               │
│ + token: string                                                                 │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + setAuthToken(token: string): void                                             │
│ + get(url: string): Promise<Response>                                           │
│ + post(url: string, data: any): Promise<Response>                              │
│ + put(url: string, data: any): Promise<Response>                               │
│ + delete(url: string): Promise<Response>                                        │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `setAuthToken(token)`: กำหนด JWT token สำหรับการยืนยันตัวตน
- `get(url)`: สร้างคำขอ HTTP GET
- `post(url, data)`: สร้างคำขอ HTTP POST
- `put(url, data)`: สร้างคำขอ HTTP PUT
- `delete(url)`: สร้างคำขอ HTTP DELETE

### 18. AuthAPI (API การยืนยันตัวตน)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                AuthAPI                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + login(credentials: LoginCredentials): Promise<AuthResponse>                   │
│ + getCurrentUser(): Promise<User>                                               │
│ + changePassword(currentPassword: string, newPassword: string): Promise<void>   │
│ + resetPassword(user: string, newPassword: string): Promise<void>               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `login(credentials)`: ยืนยันตัวตนผู้ใช้และส่งคืน JWT token
- `getCurrentUser()`: ดึงข้อมูลผู้ใช้ปัจจุบัน
- `changePassword(current, new)`: เปลี่ยนรหัสผ่านผู้ใช้
- `resetPassword(user, new)`: รีเซ็ตรหัสผ่านโดยใช้รหัสนักศึกษา

### 19. UserAPI (API การจัดการผู้ใช้)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                UserAPI                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + updateProfile(userId: string, data: Partial<User>): Promise<User>             │
│ + getUsers(): Promise<User[]>                                                   │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `updateProfile(userId, data)`: อัปเดตโปรไฟล์ผู้ใช้
- `getUsers()`: ดึงรายการผู้ใช้ทั้งหมด

### 20. ProjectAPI (API การจัดการโปรเจค)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ProjectAPI                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + createProject(data: { name: string }): Promise<Project>                       │
│ + getProjects(): Promise<Project[]>                                             │
│ + getProject(projectId: string): Promise<Project>                               │
│ + updateProject(projectId: string, data: Partial<Project>): Promise<Project>    │
│ + deleteProject(projectId: string): Promise<void>                               │
│ + inviteStudent(projectId: string, studentId: string): Promise<Project>         │
│ + removeStudent(projectId: string, studentId: string): Promise<Project>         │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `createProject(data)`: สร้างโปรเจคใหม่
- `getProjects()`: ดึงรายการโปรเจคของผู้ใช้
- `getProject(projectId)`: ดึงข้อมูลโปรเจคตาม ID
- `updateProject(projectId, data)`: อัปเดตข้อมูลโปรเจค
- `deleteProject(projectId)`: ลบโปรเจคตาม ID
- `inviteStudent(projectId, studentId)`: เชิญนักศึกษาเข้าร่วมโปรเจค
- `removeStudent(projectId, studentId)`: ลบนักศึกษาออกจากโปรเจค

### 21. AppointmentAPI (API การจัดการการนัดหมาย)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            AppointmentAPI                                      │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + createAppointment(data: { date: string, time: string, location: string,      │
│   notes?: string, advisorId: string, projectId?: string }): Promise<Appointment> │
│ + getAppointments(): Promise<Appointment[]>                                     │
│ + getAppointment(appointmentId: string): Promise<Appointment>                   │
│ + updateAppointment(appointmentId: string, data: Partial<Appointment>):         │
│   Promise<Appointment>                                                          │
│ + deleteAppointment(appointmentId: string): Promise<void>                       │
│ + confirmAppointment(appointmentId: string): Promise<Appointment>               │
│ + rejectAppointment(appointmentId: string): Promise<Appointment>                │
│ + completeAppointment(appointmentId: string): Promise<Appointment>              │
│ + getProjectAppointments(projectId: string): Promise<Appointment[]>             │
│ + studentAcceptAppointment(appointmentId: string): Promise<Appointment>         │
│ + studentRejectAppointment(appointmentId: string, reason?: string):             │
│   Promise<Appointment>                                                          │
│ + updateAppointmentStatus(appointmentId: string, status: string):               │
│   Promise<Appointment>                                                          │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `createAppointment(data)`: สร้างการนัดหมายใหม่
- `getAppointments()`: ดึงรายการการนัดหมายของผู้ใช้
- `getAppointment(appointmentId)`: ดึงข้อมูลการนัดหมายตาม ID
- `updateAppointment(appointmentId, data)`: อัปเดตข้อมูลการนัดหมาย
- `deleteAppointment(appointmentId)`: ลบการนัดหมายตาม ID
- `confirmAppointment(appointmentId)`: ยืนยันการนัดหมาย
- `rejectAppointment(appointmentId)`: ปฏิเสธการนัดหมาย
- `completeAppointment(appointmentId)`: ทำเครื่องหมายว่าการนัดหมายเสร็จสิ้น
- `getProjectAppointments(projectId)`: ดึงการนัดหมายของโปรเจค
- `studentAcceptAppointment(appointmentId)`: นักศึกษายอมรับการนัดหมาย
- `studentRejectAppointment(appointmentId, reason)`: นักศึกษาปฏิเสธการนัดหมาย
- `updateAppointmentStatus(appointmentId, status)`: อัปเดตสถานะการนัดหมาย

### 22. CommentAPI (API ความคิดเห็น)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              CommentAPI                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + addComment(appointmentId: string, content: string): Promise<Comment>          │
│ + getComments(appointmentId: string): Promise<Comment[]>                        │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `addComment(appointmentId, content)`: เพิ่มความคิดเห็นในการนัดหมาย
- `getComments(appointmentId)`: ดึงรายการความคิดเห็นของการนัดหมาย

### 23. NotificationAPI (API การแจ้งเตือน)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            NotificationAPI                                     │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + getNotifications(): Promise<Notification[]>                                   │
│ + markAsRead(notificationId: string): Promise<Notification>                     │
│ + markAllAsRead(): Promise<void>                                                │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `getNotifications()`: ดึงรายการการแจ้งเตือนของผู้ใช้
- `markAsRead(notificationId)`: ทำเครื่องหมายการแจ้งเตือนว่าอ่านแล้ว
- `markAllAsRead()`: ทำเครื่องหมายการแจ้งเตือนทั้งหมดว่าอ่านแล้ว

### 24. ImportAPI (API การนำเข้าข้อมูล)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              ImportAPI                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + importUsers(file: File): Promise<{ success: boolean; message: string }>       │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายเมธอด:**
- `importUsers(file)`: นำเข้าข้อมูลผู้ใช้จากไฟล์ CSV

## 📊 โมเดลข้อมูล (Data Models)
==============================

### 25. User (ผู้ใช้)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                  User                                          │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + id: string                                                                    │
│ + studentId?: string                                                            │
│ + firstName: string                                                             │
│ + lastName: string                                                              │
│ + phone: string                                                                 │
│ + email?: string                                                                │
│ + office?: string                                                               │
│ + major?: string                                                                │
│ + role: 'student' | 'advisor'                                                   │
│ + createdAt: Date                                                               │
│ + updatedAt: Date                                                               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายฟิลด์:**
- `id`: ตัวระบุเฉพาะสำหรับผู้ใช้
- `studentId`: รหัสนักศึกษา/อาจารย์สำหรับเข้าสู่ระบบ
- `firstName`: ชื่อจริงของผู้ใช้
- `lastName`: นามสกุลของผู้ใช้
- `phone`: หมายเลขโทรศัพท์ติดต่อ
- `email`: ที่อยู่อีเมลติดต่อ
- `office`: ตำแหน่งสำนักงาน (สำหรับอาจารย์)
- `role`: บทบาทผู้ใช้ (student/advisor)
- `major`: สาขาวิชา (cs/it)
- `createdAt`: เวลาที่สร้างบัญชี
- `updatedAt`: เวลาที่อัปเดตล่าสุด

### 26. Project (โปรเจค)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                Project                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + id: string                                                                    │
│ + name: string                                                                  │
│ + advisorId: string                                                             │
│ + advisor: User                                                                 │
│ + students: User[]                                                              │
│ + createdAt: Date                                                               │
│ + updatedAt: Date                                                               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายฟิลด์:**
- `id`: ตัวระบุเฉพาะสำหรับโปรเจค
- `name`: ชื่อโปรเจค
- `advisorId`: ID ของอาจารย์ที่ปรึกษาโปรเจค
- `advisor`: วัตถุผู้ใช้อาจารย์ที่ปรึกษา
- `students`: อาร์เรย์ของวัตถุผู้ใช้นักศึกษา
- `createdAt`: เวลาที่สร้างโปรเจค
- `updatedAt`: เวลาที่อัปเดตล่าสุด

### 27. Appointment (การนัดหมาย)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                              Appointment                                       │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + id: string                                                                    │
│ + date: Date                                                                    │
│ + time: string                                                                  │
│ + location: string                                                              │
│ + notes?: string                                                                │
│ + status: 'pending' | 'confirmed' | 'rejected' | 'cancelled' | 'completed' |   │
│           'failed'                                                              │
│ + studentId: string                                                             │
│ + advisorId: string                                                             │
│ + projectId?: string                                                            │
│ + student: User                                                                 │
│ + advisor: User                                                                 │
│ + project?: Project                                                             │
│ + comments: Comment[]                                                           │
│ + createdAt: Date                                                               │
│ + updatedAt: Date                                                               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายฟิลด์:**
- `id`: ตัวระบุเฉพาะสำหรับการนัดหมาย
- `date`: วันที่นัดหมาย
- `time`: เวลานัดหมาย
- `location`: สถานที่นัดพบ
- `notes`: โน๊ตการนัดหมาย
- `status`: สถานะการนัดหมาย (pending/confirmed/rejected/completed/failed)
- `studentId`: ID ของนักศึกษา
- `advisorId`: ID ของอาจารย์
- `projectId`: ID ของโปรเจคที่เกี่ยวข้อง
- `student`: วัตถุผู้ใช้นักศึกษา
- `advisor`: วัตถุผู้ใช้อาจารย์
- `project`: วัตถุโปรเจค
- `comments`: อาร์เรย์ของความคิดเห็น
- `createdAt`: เวลาที่สร้างการนัดหมาย
- `updatedAt`: เวลาที่อัปเดตล่าสุด

### 28. Comment (ความคิดเห็น)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                Comment                                         │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + id: string                                                                    │
│ + content: string                                                               │
│ + appointmentId: string                                                         │
│ + userId: string                                                                │
│ + user: User                                                                    │
│ + createdAt: Date                                                               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายฟิลด์:**
- `id`: ตัวระบุเฉพาะสำหรับความคิดเห็น
- `content`: เนื้อหาความคิดเห็น
- `appointmentId`: ID ของการนัดหมาย
- `userId`: ID ของผู้เขียนความคิดเห็น
- `user`: วัตถุผู้ใช้ที่เขียนความคิดเห็น
- `createdAt`: เวลาที่สร้างความคิดเห็น

### 29. Notification (การแจ้งเตือน)
┌─────────────────────────────────────────────────────────────────────────────────┐
│                            Notification                                        │
├─────────────────────────────────────────────────────────────────────────────────┤
│ + id: string                                                                    │
│ + userId: string                                                                │
│ + type: 'appointment_reminder' | 'appointment_request' | 'appointment_confirmed' │
│         | 'appointment_rejected'                                                │
│ + title: string                                                                 │
│ + message: string                                                               │
│ + isRead: boolean                                                               │
│ + appointmentId?: string                                                        │
│ + createdAt: Date                                                               │
└─────────────────────────────────────────────────────────────────────────────────┘

**คำอธิบายฟิลด์:**
- `id`: ตัวระบุเฉพาะสำหรับการแจ้งเตือน
- `userId`: ID ของผู้ใช้ที่รับการแจ้งเตือน
- `type`: ประเภทการแจ้งเตือน
- `title`: หัวข้อการแจ้งเตือน
- `message`: ข้อความการแจ้งเตือน
- `isRead`: สถานะการอ่าน
- `appointmentId`: ID ของการนัดหมายที่เกี่ยวข้อง
- `createdAt`: เวลาที่สร้างการแจ้งเตือน

---
**หมายเหตุ: นี่เป็นส่วนที่ 2 ของแผนภาพ Class Diagram ที่ครบถ้วน 100%**
